@page  "/colors"
@page "/colors/{kitId}"

<div class="colors page">
    <div class="page__container">
        <header>
            <div class="title">Base Styles</div>
            <h2>Colors</h2>
            <p>
                When working with typography, using a type scale can help keep a subtle rhythm throughout your designs.
            </p>
        </header>
        <div class="content">
            <h3>Brand Colors</h3>
            <p class="subheader">
                Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus.
            </p>
            @if (kit != null)
            {
                <EditForm Model="@kit">
                    <div class="section">
                        <label>
                            Primary
                            <span style="background-color: @kit.PrimaryColor"></span>
                            <InputText @bind-Value="kit.PrimaryColor" />
                        </label>
                        <label>
                            Secondary
                            <span style="background-color: @kit.SecondaryColor"></span>
                            <InputText @bind-Value="kit.SecondaryColor" />
                        </label>
                        <label>
                            Tertiary
                            <span style="background-color: @kit.TertiaryColor"></span>
                            <InputText @bind-Value="kit.TertiaryColor" />
                        </label>
                    </div>
                    <div class="preview-example">
                        <div>
                            <label>Primary</label>
                            <div class="color-display" style="background-color: @kit.PrimaryColor"></div>
                        </div>
                        <div>
                            <label>Secondary</label>
                            <div class="color-display" style="background-color: @kit.SecondaryColor"></div>
                        </div>
                        <div>
                            <label>Tertiary</label>
                            <div class="color-display" style="background-color: @kit.TertiaryColor"></div>
                        </div>
                    </div>
                    <div>
                        <pre>
                            <code>
&lt;!-- use directly as colors or background properties --&gt;
&lt;div class="color-primary"&gt;The power of small steps&lt;/div&gt;
&lt;div class="bg-primary"&gt;The power of small steps&lt;/div&gt;
                            </code>
                            <code class="language-scss">
&lt;!-- however it is best to use them as variables within your classes --&gt;

.box {
    background-color: $primary-500;
}

.box-alt {
    background-color: $secondary-100;
}
                            </code>
                        </pre>
                    </div>
                    <h3>Greyscale</h3>
                    <p class="subheader">
                        Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus.
                    </p>
                    <div class="section">
                        <label>
                            Darkest
                            <span style="background-color: @kit.DarkColor"></span>
                            <InputText @bind-Value="kit.DarkColor" />
                        </label>
                        <label>
                            Lightest
                            <span style="background-color: @kit.LightColor"></span>
                            <InputText @bind-Value="kit.LightColor" />
                        </label>
                    </div>
                    <div class="preview-example preview-example--grayscale">
                        <div>
                            <label>900</label>
                            <div class="color-display first" style="background-color: @kit.DarkColor"></div>
                        </div>
                        <div>
                            <label>800</label>
                            <div class="color-display" style="background-color: #2B2D39"></div>
                        </div>
                        <div>
                            <label>700</label>
                            <div class="color-display" style="background-color: #30313F"></div>
                        </div>
                        <div>
                            <label>600</label>
                            <div class="color-display" style="background-color: #393A4A"></div>
                        </div>
                        <div>
                            <label>500</label>
                            <div class="color-display" style="background-color: #6B6C7E"></div>
                        </div>
                        <div>
                            <label>400</label>
                            <div class="color-display" style="background-color: #A7A9BC"></div>
                        </div>
                        <div>
                            <label>300</label>
                            <div class="color-display" style="background-color: #CDCED9"></div>
                        </div>
                        <div>
                            <label>200</label>
                            <div class="color-display" style="background-color: #E7E7ED"></div>
                        </div>
                        <div>
                            <label>100</label>
                            <div class="color-display last" style="background-color: @kit.LightColor"></div>
                        </div>
                    </div>
                        <pre>
                        <code class="language-scss">
&lt;!--System Variables--&gt;
$greyscale-900
$greyscale-800
$greyscale-700
                    </code>
</pre>
                    <h3>System Colors</h3>
                    <p class="subheader">
                        Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus.
                    </p>
                    <div class="section">
                        <label>
                            Error
                            <span class="color-display" style="background-color: @kit.ErrorColor"></span>
                            <InputText @bind-Value="kit.ErrorColor" />
                        </label>
                        <label>
                            Warning
                            <span class="color-display" style="background-color: @kit.WarningColor"></span>
                            <InputText @bind-Value="kit.WarningColor" />
                        </label>
                        <label>
                            Success
                            <span class="color-display" style="background-color: @kit.SuccessColor"></span>
                            <InputText @bind-Value="kit.SuccessColor" />
                        </label>
                    </div>
                    <div class="preview-example">
                        <div style="background-color: @kit.ErrorColor"></div>
                        <div style="background-color: @kit.WarningColor"></div>
                        <div style="background-color: @kit.SuccessColor"></div>
                        <div>
                            <label>Error</label>
                            <div class="color-display" style="background-color: @kit.ErrorColor"></div>
                        </div>
                        <div>
                            <label>Warning</label>
                            <div class="color-display" style="background-color: @kit.WarningColor"></div>
                        </div>
                        <div>
                            <label>Success</label>
                            <div class="color-display" style="background-color: @kit.SuccessColor"></div>
                        </div>
                    </div>
                    <div class="code-example">
                        <pre>
                        <code class="language-scss">
&lt;!--System Variables--&gt;
$error-900
$error-500
$error-100
$warning-900
$warning-500
$warning-100
$success-900
$success-500
$success-100
                        </code>
                        </pre>
                    </div>
                    <div class="preview-mockup">
                        <h3>Preview</h3>
                        <p class="subheader">
                            Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus.
                        </p>
                        <section>
                            <div class="preview-mockup--left">
                                <img src="/images/example1.png"/>
                                <div>
                                    <h5>Information</h5>
                                    <h4>Brand Colors</h4>
                                    <p>
                                        Lorem ipsum dolor sit amet, consectetuer adipiscing elit
                                    </p>
                                    <button>Primary CTA</button> 
                                </div>
                            </div>
                            <div class="preview-mockup--right">
                                <h5>Information</h5>
                                <h4>Brand Colors</h4>
                                <p>
                                    Lorem ipsum dolor sit amet, consectetuer adipiscing elit
                                </p>
                                <div class="buttons">
                                    <button>Primary CTA</button>
                                    <button class="button-secondary">Secondary CTA</button>
                                </div></div>
                        </section>
                    </div>
                    <button @onclick="Submit">
                        Save & Continue
                        <img src="/images/eyecon.svg" />
                    </button>
                </EditForm>
            }
        </div>
        </div>
    </div>

    @inject Blazored.LocalStorage.ILocalStorageService localStorage

    @code {
        private Kit kit = new Kit();
        [Parameter] public string kitId { get; set; }
        string currentKitId;

        protected override async Task OnInitializedAsync()
        {
            await GetKit();
            kit.PrimaryColor = "#0B5FFF";
            kit.SecondaryColor = "#4B9BFF";
            kit.TertiaryColor = "#FFB46E";
            kit.DarkColor = "#272833";
            kit.LightColor = "#F3F3F9";
            kit.ErrorColor = "#F96464";
            kit.WarningColor = "#FF8F39";
            kit.SuccessColor = "#5ACA75";
        }

        private async Task Submit()
        {
            await Api.UpdateKitAsync(kit);
            Nav.NavigateTo("/icons/" + kit.Id);
        }

        private async Task GetKit()
        {
            //get from local storage
            string result = await localStorage.GetItemAsync<string>("kodekitId");
            currentKitId = result;

            if (kitId != null)
            {
                kit = await Api.GetKitAsync(currentKitId);
            }
            else if (currentKitId != null)
            {
                kit = await Api.GetKitAsync(currentKitId);
            }
        }

    }
