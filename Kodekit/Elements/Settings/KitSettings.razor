@inherits LiveForm
@page "/{kitId}/global-settings"


        <header>
            <h1>Base Styles</h1>
            <h2>Global Settings</h2>
            <p>
                On this page, you can turn on and off CSS generation for the various elements in your kit.
            </p>
        </header>

        <article>
            @if (kit != null)
            {
                <EditForm EditContext="@Context">
                    <section>
                        <header>
                            <h3>Elements to Include</h3>
                            <p>
                                Select the kit elements you'd like to use in your kit. Each element you choose will add a default reset
                                stylesheet for that category to the kit's CSS file, along with the specific stylings you set in that element's page.
                            </p>
                        </header>
                        <div>
                            <div class="section-container" tabindex="0">
                                <label tabindex="0" class="switch">
                                    <input type="checkbox" @onchange="SetAll" aria-label="All Kodekit Elements">
                                    <span class="slider"></span>
                                </label>
                                All Kodekit Elements
                            </div>
                            <Switch @bind-Value=kit.Current.Settings.UseTypography Title="Typography" IsDisabled=kodekitStyleReset tabindex="0" />
                            <Switch @bind-Value=kit.Current.Settings.UseColors Title="Colors" IsDisabled=kodekitStyleReset tabindex="0" />
                            <Switch @bind-Value=kit.Current.Settings.UseIcons Title="Icons" IsDisabled=kodekitStyleReset tabindex="0" />
                            <Switch @bind-Value=kit.Current.Settings.UseButtons Title="Buttons" IsDisabled=kodekitStyleReset tabindex="0" />
                            <Switch @bind-Value=kit.Current.Settings.UseInputs Title="Inputs and Textareas" IsDisabled=kodekitStyleReset tabindex="0" />
                            <Switch @bind-Value=kit.Current.Settings.UseCheckboxes Title="Checkboxes and Radios" IsDisabled=kodekitStyleReset tabindex="0" />
                            <Switch @bind-Value=kit.Current.Settings.UseDropdowns Title="Dropdowns" IsDisabled=kodekitStyleReset tabindex="0" />
                            <Switch @bind-Value=kit.Current.Settings.UseAnchors Title="Anchors" IsDisabled=kodekitStyleReset tabindex="0" />
                            <Switch @bind-Value=kit.Current.Settings.UseLists Title="Lists" IsDisabled=kodekitStyleReset tabindex="0" />
                        </div>
                    </section>
                </EditForm>
            }
        </article>

@code {
    public bool kodekitStyleReset = false;

    private async Task SetAll()
    {
        if (kit == null) return;

        kodekitStyleReset = !kodekitStyleReset;
        kit.Current.Settings.UpdateAll(kodekitStyleReset);

        await UpdateAsync();
    }
}
